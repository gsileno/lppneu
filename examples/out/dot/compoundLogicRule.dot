digraph G {
  rankdir="LR";

  subgraph place {
    node [shape=circle,fixedsize=true,width=.5];
    _p0 [label="_e0"] ;
    _p1 [label="AND(p, q)"] ;
    _p2 [label="p"] ;
    _p3 [label="q"] ;
  } 

  subgraph transitions {
    node [shape=rect,height=.5,width=.5];
    _t0 [label="",height=.1,width=.1,style=filled,width=.1,color=black] ;
    _t1 [label="",height=.1,width=.1,style=filled,width=.1,color=black] ;
    _t2 [label="",height=.1,width=.1,style=filled,width=.1,color=black] ;
    _t3 [label="",height=.1,width=.1,style=filled,width=.1,color=black] ;
  } 

  subgraph cluster_0 {
    color=lightgray ;

    subgraph transitions {
      node [shape=rect,height=.5,width=.5];
      _t0_0 [label="IMPLIES"] ;
    } 

    subgraph cluster0_0 {
      color=lightgray ;

      subgraph place {
        node [shape=circle,fixedsize=true,width=.5];
        _p0_00 [label="_e0"] ;
      } 
    }

    subgraph cluster0_1 {
      color=lightgray ;

      subgraph place {
        node [shape=circle,fixedsize=true,width=.5];
        _p0_01 [label="r"] ;
      } 
    }

    _p0_00 -> _t0_0 [] ;
    _t0_0 -> _p0_01 [] ;
  }

  subgraph cluster_1 {
    color=lightgray ;

    subgraph transitions {
      node [shape=rect,height=.5,width=.5];
      _t0_1 [label="IMPLIES"] ;
    } 

    subgraph cluster1_0 {
      color=lightgray ;

      subgraph place {
        node [shape=circle,fixedsize=true,width=.5];
        _p0_10 [label="AND(p, q)"] ;
        _p1_10 [label="p"] ;
        _p2_10 [label="q"] ;
      } 

      subgraph transitions {
        node [shape=rect,height=.5,width=.5];
        _t0_10 [label="AND"] ;
      } 

      _t0_10 -> _p0_10 [] ;
      _p1_10 -> _t0_10 [] ;
      _p2_10 -> _t0_10 [] ;
    }

    subgraph cluster1_1 {
      color=lightgray ;

      subgraph place {
        node [shape=circle,fixedsize=true,width=.5];
        _p0_11 [label="_e0"] ;
      } 
    }

    _p0_10 -> _t0_1 [] ;
    _t0_1 -> _p0_11 [] ;
  }

  subgraph cluster_2 {
    color=lightgray ;

    subgraph transitions {
      node [shape=rect,height=.5,width=.5];
      _t0_2 [label="IMPLIES"] ;
    } 

    subgraph cluster2_0 {
      color=lightgray ;

      subgraph place {
        node [shape=circle,fixedsize=true,width=.5];
        _p0_20 [label="_e0"] ;
      } 
    }

    subgraph cluster2_1 {
      color=lightgray ;

      subgraph place {
        node [shape=circle,fixedsize=true,width=.5];
        _p0_21 [label="AND(p, q)"] ;
        _p1_21 [label="p"] ;
        _p2_21 [label="q"] ;
      } 

      subgraph transitions {
        node [shape=rect,height=.5,width=.5];
        _t0_21 [label="AND"] ;
      } 

      _t0_21 -> _p0_21 [] ;
      _p1_21 -> _t0_21 [] ;
      _p2_21 -> _t0_21 [] ;
    }

    _p0_20 -> _t0_2 [] ;
    _t0_2 -> _p0_21 [] ;
  }

  _p0 -> _t0 [arrowhead=none] ;
  _t0 -> _p0_00 [arrowhead=none] ;
  _t0 -> _p0_11 [arrowhead=none] ;
  _t0 -> _p0_20 [arrowhead=none] ;
  _p1 -> _t1 [arrowhead=none] ;
  _t1 -> _p0_10 [arrowhead=none] ;
  _t1 -> _p0_21 [arrowhead=none] ;
  _p2 -> _t2 [arrowhead=none] ;
  _t2 -> _p1_10 [arrowhead=none] ;
  _t2 -> _p1_21 [arrowhead=none] ;
  _p3 -> _t3 [arrowhead=none] ;
  _t3 -> _p2_10 [arrowhead=none] ;
  _t3 -> _p2_21 [arrowhead=none] ;
}

